Started by user [8mha:////4GvyPCy52t+fFIWC5Ekwbl6JWLHS7zF0ozr/PPzgRIAGAAAAlx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzWEgZu/dLi1CL9xJTczDwAj6GcLcAAAAA=[0madmin
ln builds/lastSuccessfulBuild /home/ubuntu/.jenkins/jobs/app_tenant_deploy_yaml/lastSuccessful failed
java.nio.file.DirectoryNotEmptyException: /home/ubuntu/.jenkins/jobs/app_tenant_deploy_yaml/lastSuccessful
	at sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:242)
	at sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:108)
	at java.nio.file.Files.deleteIfExists(Files.java:1165)
	at hudson.Util.createSymlink(Util.java:1193)
	at hudson.model.Run.createSymlink(Run.java:1955)
	at hudson.model.Run.updateSymlinks(Run.java:1936)
	at hudson.model.Run.execute(Run.java:1814)
	at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)
	at hudson.model.ResourceController.execute(ResourceController.java:97)
	at hudson.model.Executor.run(Executor.java:429)
ln builds/lastStableBuild /home/ubuntu/.jenkins/jobs/app_tenant_deploy_yaml/lastStable failed
java.nio.file.DirectoryNotEmptyException: /home/ubuntu/.jenkins/jobs/app_tenant_deploy_yaml/lastStable
	at sun.nio.fs.UnixFileSystemProvider.implDelete(UnixFileSystemProvider.java:242)
	at sun.nio.fs.AbstractFileSystemProvider.deleteIfExists(AbstractFileSystemProvider.java:108)
	at java.nio.file.Files.deleteIfExists(Files.java:1165)
	at hudson.Util.createSymlink(Util.java:1193)
	at hudson.model.Run.createSymlink(Run.java:1955)
	at hudson.model.Run.updateSymlinks(Run.java:1937)
	at hudson.model.Run.execute(Run.java:1814)
	at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:43)
	at hudson.model.ResourceController.execute(ResourceController.java:97)
	at hudson.model.Executor.run(Executor.java:429)
Building in workspace /home/ubuntu/.jenkins/workspace/app_tenant_deploy_yaml
Warning: CredentialId "ef9e4802-7979-4c64-9c9b-d6c351f732ce" could not be found.
Cloning the remote Git repository
Cloning repository https://github.com/chbharathkumar/kubernetes-jenkins.git
 > git init /home/ubuntu/.jenkins/workspace/app_tenant_deploy_yaml # timeout=10
Fetching upstream changes from https://github.com/chbharathkumar/kubernetes-jenkins.git
 > git --version # timeout=10
 > git fetch --tags --progress https://github.com/chbharathkumar/kubernetes-jenkins.git +refs/heads/*:refs/remotes/origin/*
 > git config remote.origin.url https://github.com/chbharathkumar/kubernetes-jenkins.git # timeout=10
 > git config --add remote.origin.fetch +refs/heads/*:refs/remotes/origin/* # timeout=10
 > git config remote.origin.url https://github.com/chbharathkumar/kubernetes-jenkins.git # timeout=10
Fetching upstream changes from https://github.com/chbharathkumar/kubernetes-jenkins.git
 > git fetch --tags --progress https://github.com/chbharathkumar/kubernetes-jenkins.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse refs/remotes/origin/dev^{commit} # timeout=10
 > git rev-parse refs/remotes/origin/origin/dev^{commit} # timeout=10
Checking out Revision b7e0de2a6d0e6bd17c5979a39b2039e6e77e47ed (refs/remotes/origin/dev)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f b7e0de2a6d0e6bd17c5979a39b2039e6e77e47ed
Commit message: "Update ns-resource-quota_10-15.yaml"
 > git rev-list --no-walk 7e53bdaba6ccf4c989e36754e07133a9770bd256 # timeout=10
[app_tenant_deploy_yaml] $ /bin/bash /tmp/jenkins1591818487403517097.sh
/home/ubuntu
FROM tomcat:8.0.20-jre8

COPY pwd/eks-app/target/bharat.war /usr/local/tomcat/webapps/
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: app_tenant_deploy_eks
  namespace: bh
spec:
  replicas: 1
  template:
    metadata:
      labels:
        name: eks
    spec:
      containers:
      - name: app_tenant_pod_eks
        image: eks:latest
        ports:
        - containerPort: 8080

---
apiVersion: v1
kind: Service
metadata:
  name: app_tenant_svc_eks
  labels:
    name: app_tenant_eks
  namespace: bh
spec:
  type: NodePort
  ports:
  - port: 80
    targetPort: 8080
    nodePort: 30001
  selector:
    name: eks
Cloning into 'eks-app-platform-config'...
On branch dev
Your branch is up to date with 'origin/dev'.

Changes to be committed:
  (use "git reset HEAD <file>..." to unstage)

	new file:   eks/Dockerfile
	new file:   eks/deploy_svc.yaml

[dev b6380fa] files
 Committer: Ubuntu <ubuntu@ip-172-31-32-179.us-east-2.compute.internal>
Your name and email address were configured automatically based
on your username and hostname. Please check that they are accurate.
You can suppress this message by setting them explicitly. Run the
following command and follow the instructions in your editor to edit
your configuration file:

    git config --global --edit

After doing this, you may fix the identity used for this commit with:

    git commit --amend --reset-author

 2 files changed, 37 insertions(+)
 create mode 100644 eks/Dockerfile
 create mode 100644 eks/deploy_svc.yaml
To https://github.com/nagarajui7/eks-app-platform-config.git
   6ddbac3..b6380fa  dev -> dev
Finished: SUCCESS
