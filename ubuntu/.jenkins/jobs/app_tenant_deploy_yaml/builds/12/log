Started by user [8mha:////4K5wFlcXmJC0DsPJ4mF2W0rBte8CK1/5fcgVP9EWRDhLAAAAlx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzWEgZu/dLi1CL9xJTczDwAj6GcLcAAAAA=[0madmin
Building in workspace /home/ubuntu/.jenkins/workspace/app_tenant_deploy_yaml
using credential ef9e4802-7979-4c64-9c9b-d6c351f732ce
 > git rev-parse --is-inside-work-tree # timeout=10
Fetching changes from the remote Git repository
 > git config remote.origin.url https://github.com/chbharathkumar/kubernetes-jenkins.git # timeout=10
Fetching upstream changes from https://github.com/chbharathkumar/kubernetes-jenkins.git
 > git --version # timeout=10
using GIT_ASKPASS to set credentials 
 > git fetch --tags --progress https://github.com/chbharathkumar/kubernetes-jenkins.git +refs/heads/*:refs/remotes/origin/*
 > git rev-parse refs/remotes/origin/dev^{commit} # timeout=10
 > git rev-parse refs/remotes/origin/origin/dev^{commit} # timeout=10
Checking out Revision 7e53bdaba6ccf4c989e36754e07133a9770bd256 (refs/remotes/origin/dev)
 > git config core.sparsecheckout # timeout=10
 > git checkout -f 7e53bdaba6ccf4c989e36754e07133a9770bd256
Commit message: "Update deploy_svc.yaml"
 > git rev-list --no-walk 7e53bdaba6ccf4c989e36754e07133a9770bd256 # timeout=10
[app_tenant_deploy_yaml] $ /bin/bash /tmp/jenkins9046858367713674218.sh
FROM tomcat:8.0.20-jre8

COPY pwd/dest/target/yurt.war /usr/local/tomcat/webapps/
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: app_tenant_deploy_rest
  namespace: test
spec:
  replicas: 1
  template:
    metadata:
      labels:
        name: rest
    spec:
      containers:
      - name: app_tenant_pod_rest
        image: rest:latest
        ports:
        - containerPort: 8080

---
apiVersion: v1
kind: Service
metadata:
  name: app_tenant_svc_rest
  labels:
    name: app_tenant_rest
  namespace: test
spec:
  type: NodePort
  ports:
  - port: 80
    targetPort: 8080
    nodePort: 30001
  selector:
    name: rest
Cloning into 'eks-app-platform-config'...
On branch master
Your branch is up to date with 'origin/master'.

nothing to commit, working tree clean
On branch master
Your branch is up to date with 'origin/master'.

nothing to commit, working tree clean
Everything up-to-date
Finished: SUCCESS
